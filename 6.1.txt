6.1 GitHub Actions Workflow
Developer Action
- Developer pushes code to the main branch using git push
GitHub
- Push event triggers the CI/CD workflow
GitHub Actions
- Checkout repository source code
- Run quality checks
- Linting
- Type checking
- Unit tests
- End-to-end tests
Build Stage
- Build Docker images for web application
- Build Docker images for admin panel
- Build Docker images for API service
Artifact Publishing
- Push built Docker images to GitHub Container Registry (GHCR)
Deployment Trigger
- Trigger Coolify deployment pipeline
Coolify Deployment
- Pull latest images from registry
- Run database migrations
- Deploy services using rolling update strategy
Notification
- Send deployment status notification to the developer
- Message: Deploy successful
Plain Text Explanation
The CI/CD pipeline is designed to provide an automated, reliable, and repeatable deployment process.
The workflow begins when a developer pushes code to the main branch, which triggers a GitHub Actions
workflow. The pipeline first checks out the source code and runs a comprehensive set of quality checks,
including linting, type validation, unit tests, and end-to-end tests, ensuring code quality and stability. After
successful validation, Docker images are built for all core services, including the web application, admin
panel, and API. These images are then published to the GitHub Container Registry. Once the images are
available, the pipeline triggers Coolify to start the deployment process. Coolify pulls the new images,
applies database migrations if necessary, and performs a rolling deployment to avoid downtime. Upon
successful completion of the deployment, a notification is sent back to the developer confirming that the
release has been deployed successfully.