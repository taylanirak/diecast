5.1 Network Architecture
Structured Network Flow (hyphen based)
Internet
Cloudflare
- DNS management
- CDN
- DDoS protection
- Web Application Firewall (WAF)
Server (Public IP)
- Operating system: Ubuntu 22.04 LTS
UFW Firewall Rules
- Port 22: SSH access (key-based authentication only)
- Port 80: HTTP traffic redirected to HTTPS (443)
- Port 443: HTTPS traffic allowed
- All other ports blocked
Traefik Reverse Proxy
- Listening ports: 80 and 443
- Automatic SSL via Let's Encrypt (auto-renew)
Routing Configuration
- tarodan.com routes to web service on port 3000
- admin.tarodan.com routes to admin service on port 3002
- api.tarodan.com routes to API service on port 3001
- storage.tarodan.com routes to MinIO service on port 9000
- grafana.tarodan.com routes to Grafana service on port 3003
Docker Network
- Network name: tarodan-network
- CIDR range: 172.20.0.0/16
Application Containers
- Web application running on port 3000
- Admin panel running on port 3002
- API service running on port 3001
- Background workers container
Data & Infrastructure Services
- PostgreSQL running on port 5432
- Redis running on port 6379
- Elasticsearch running on port 9200
- MinIO object storage running on port 9000
Internal DNS Resolution
- postgres.tarodan-network resolves to internal container IP
- redis.tarodan-network resolves to internal container IP
- Similar resolution applies to all internal services
Plain Text Explanation
The network architecture is designed with a layered security and routing approach. All incoming traffic
originates from the public internet and is first handled by Cloudflare, which provides DNS resolution,
content delivery, DDoS protection, and a web application firewall. Traffic is then forwarded to a single
public server running Ubuntu, where strict firewall rules limit exposed ports to SSH and HTTPS only.
Traefik acts as the central reverse proxy, terminating SSL connections and routing traffic to internal
services based on domain names. All application and infrastructure services run inside an isolated Docker
network, ensuring internal communication remains private and secure. Databases and supporting services
are never exposed directly to the public network and are accessed exclusively through internal DNS
resolution within the Docker network. This setup provides strong security boundaries, simplified service
discovery, automated certificate management, and a scalable foundation for future infrastructure growth.